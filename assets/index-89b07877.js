(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function i(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=i(s);fetch(s.href,o)}})();var h=function(e,t,i){if(typeof e=="object"){e.tabIndex=-1,this.tree=t,this.groupTreeitem=i,this.domNode=e,this.label=e.textContent.trim(),e.getAttribute("aria-label")&&(this.label=e.getAttribute("aria-label").trim()),this.isExpandable=!1,this.isVisible=!1,this.inGroup=!1,i&&(this.inGroup=!0);for(var r=e.firstElementChild;r;){if(r.tagName.toLowerCase()=="ul"){r.setAttribute("role","group"),this.isExpandable=!0;break}r=r.nextElementSibling}this.keyCode=Object.freeze({RETURN:13,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40})}};h.prototype.init=function(){this.domNode.tabIndex=-1,this.domNode.getAttribute("role")||this.domNode.setAttribute("role","treeitem"),this.domNode.addEventListener("keydown",this.handleKeydown.bind(this)),this.domNode.addEventListener("click",this.handleClick.bind(this)),this.domNode.addEventListener("focus",this.handleFocus.bind(this)),this.domNode.addEventListener("blur",this.handleBlur.bind(this)),this.isExpandable||(this.domNode.addEventListener("mouseover",this.handleMouseOver.bind(this)),this.domNode.addEventListener("mouseout",this.handleMouseOut.bind(this)))};h.prototype.isExpanded=function(){return this.isExpandable?this.domNode.getAttribute("aria-expanded")==="true":!1};h.prototype.handleKeydown=function(e){var t=!1,i=e.key;function r(n){return n.length===1&&n.match(/\S/)}function s(n){i=="*"?(n.tree.expandAllSiblingItems(n),t=!0):r(i)&&(n.tree.setFocusByFirstCharacter(n,i),t=!0)}if(!(e.altKey||e.ctrlKey||e.metaKey)){if(e.shift)r(i)&&s(this);else switch(e.keyCode){case this.keyCode.RETURN:case this.keyCode.SPACE:var o=e.currentTarget,l=o.getAttribute("aria-label");if(!l){var c=o.firstElementChild;l=c?c.innerText:o.innerText}document.getElementById("last_action").value=l.trim(),this.isExpandable||this.tree.setFocusToItem(this),this.tree.setSelectedToItem(this),t=!0;break;case this.keyCode.UP:this.tree.setFocusToPreviousItem(this),t=!0;break;case this.keyCode.DOWN:this.tree.setFocusToNextItem(this),t=!0;break;case this.keyCode.RIGHT:this.isExpandable&&(this.isExpanded()?this.tree.setFocusToNextItem(this):this.tree.expandTreeitem(this)),t=!0;break;case this.keyCode.LEFT:this.isExpandable&&this.isExpanded()?(this.tree.collapseTreeitem(this),t=!0):this.inGroup&&(this.tree.setFocusToParentItem(this),t=!0);break;case this.keyCode.HOME:this.tree.setFocusToFirstItem(),t=!0;break;case this.keyCode.END:this.tree.setFocusToLastItem(),t=!0;break;default:r(i)&&s(this);break}t&&(e.stopPropagation(),e.preventDefault())}};h.prototype.handleClick=function(e){e.target.classList.contains("file")||(this.isExpandable?(this.isExpanded()?this.tree.collapseTreeitem(this):this.tree.expandTreeitem(this),e.stopPropagation()):this.tree.setFocusToItem(this),this.tree.setSelectedToItem(this))};h.prototype.handleFocus=function(){var e=this.domNode;this.isExpandable&&(e=e.firstElementChild),e.classList.add("focus")};h.prototype.handleBlur=function(){var e=this.domNode;this.isExpandable&&(e=e.firstElementChild),e.classList.remove("focus")};h.prototype.handleMouseOver=function(e){e.currentTarget.classList.add("hover")};h.prototype.handleMouseOut=function(e){e.currentTarget.classList.remove("hover")};const y={initializeTree:function(){for(var e=document.querySelectorAll('[role="tree"]'),t=0;t<e.length;t++){var i=new d(e[t]);i.init()}}};var d=function(e){typeof e=="object"&&(this.domNode=e,this.treeitems=[],this.firstChars=[],this.firstTreeitem=null,this.lastTreeitem=null,this.selectedItem=null)};d.prototype.init=function(){function e(t,i,r){for(var s=t.firstElementChild,o=r;s;)s.tagName.toLowerCase()==="li"&&(o=new h(s,i,r),o.init(),i.treeitems.push(o),i.firstChars.push(o.label.substring(0,1).toLowerCase())),s.firstElementChild&&e(s,i,o),s=s.nextElementSibling}this.domNode.getAttribute("role")||this.domNode.setAttribute("role","tree"),e(this.domNode,this,!1),this.updateVisibleTreeitems(),this.firstTreeitem.domNode.tabIndex=0};d.prototype.setSelectedToItem=function(e){this.selectedItem&&this.selectedItem.domNode.setAttribute("aria-selected","false"),e.domNode.setAttribute("aria-selected","true"),this.selectedItem=e};d.prototype.setFocusToItem=function(e){for(var t=0;t<this.treeitems.length;t++){var i=this.treeitems[t];i===e?(i.domNode.tabIndex=0,i.domNode.focus()):i.domNode.tabIndex=-1}};d.prototype.setFocusToNextItem=function(e){for(var t=!1,i=this.treeitems.length-1;i>=0;i--){var r=this.treeitems[i];if(r===e)break;r.isVisible&&(t=r)}t&&this.setFocusToItem(t)};d.prototype.setFocusToPreviousItem=function(e){for(var t=!1,i=0;i<this.treeitems.length;i++){var r=this.treeitems[i];if(r===e)break;r.isVisible&&(t=r)}t&&this.setFocusToItem(t)};d.prototype.setFocusToParentItem=function(e){e.groupTreeitem&&this.setFocusToItem(e.groupTreeitem)};d.prototype.setFocusToFirstItem=function(){this.setFocusToItem(this.firstTreeitem)};d.prototype.setFocusToLastItem=function(){this.setFocusToItem(this.lastTreeitem)};d.prototype.expandTreeitem=function(e){e.isExpandable&&(e.domNode.setAttribute("aria-expanded",!0),this.updateVisibleTreeitems())};d.prototype.expandAllSiblingItems=function(e){for(var t=0;t<this.treeitems.length;t++){var i=this.treeitems[t];i.groupTreeitem===e.groupTreeitem&&i.isExpandable&&this.expandTreeitem(i)}};d.prototype.collapseTreeitem=function(e){var t=!1;e.isExpanded()?t=e:t=e.groupTreeitem,t&&(t.domNode.setAttribute("aria-expanded",!1),this.updateVisibleTreeitems(),this.setFocusToItem(t))};d.prototype.updateVisibleTreeitems=function(){this.firstTreeitem=this.treeitems[0];for(var e=0;e<this.treeitems.length;e++){var t=this.treeitems[e],i=t.domNode.parentNode;for(t.isVisible=!0;i&&i!==this.domNode;)i.getAttribute("aria-expanded")=="false"&&(t.isVisible=!1),i=i.parentNode;t.isVisible&&(this.lastTreeitem=t)}};d.prototype.setFocusByFirstCharacter=function(e,t){var i,r;t=t.toLowerCase(),i=this.treeitems.indexOf(e)+1,i===this.treeitems.length&&(i=0),r=this.getIndexFirstChars(i,t),r===-1&&(r=this.getIndexFirstChars(0,t)),r>-1&&this.setFocusToItem(this.treeitems[r])};d.prototype.getIndexFirstChars=function(e,t){for(var i=e;i<this.firstChars.length;i++)if(this.treeitems[i].isVisible&&t===this.firstChars[i])return i;return-1};const v={createList:function(e,t=!1){var i=document.createElement("ul");i.setAttribute("role","group");let r=Object.keys(e).sort();for(const o of r){let l=e[o];var s=document.createElement("li");s.setAttribute("role","treeitem");let c=!t;s.setAttribute("aria-expanded",c),s.setAttribute("aria-selected","false");let n=document.createElement("span");if(n.textContent=o,s.appendChild(n),o==="vendor"&&(s.classList.add("vendor"),t=!0),typeof l=="object")s.appendChild(this.createList(l,t));else{let a=o.match(/#(\d+)/);s.textContent=o,s.setAttribute("id","stack-"+a[1]),s.classList.add("file")}i.appendChild(s)}return i}},x={createTable:function(e,t){return t.innerHTML="",e=e.reverse(),e.forEach(i=>{let r=document.createElement("tr"),s=!1;for(let o in i){let l=document.createElement("td"),c=i[o];o==="path"&&!c.includes("vendor")&&(s=!0),l.innerHTML=c,r.appendChild(l)}s&&r.classList.add("important"),t.appendChild(r)}),t}};let m;const I=document.getElementById("log-error"),L=document.getElementById("error-view"),T=document.getElementById("tree-container"),C=document.getElementById("stack-index"),N=document.getElementById("stack-path"),k=document.getElementById("stack-method"),F=document.getElementById("stack-line"),p=document.getElementById("tree-tab"),E=document.getElementById("table"),A=document.getElementById("stack-table"),b=document.getElementById("table-tab");document.addEventListener("submit",function(e){e.preventDefault(),m=null;let t=Object.fromEntries(new FormData(e.target)),i=t.stacktrace.split(/\r?\n/).map(n=>n.trim()),r=i.filter(n=>!n.startsWith("#"));if(i=i.filter(n=>n.startsWith("#")),r.length&&r[0]!==""&&(r.push("<br><strong>Thrown from: "+i[0]+"</strong>"),I.innerHTML=r.toString(),L.classList.add("is-visible")),t.root_path!==""){let n=new RegExp(t.root_path.trim()+"?","g");i=i.map(a=>a.replace(n,""))}m=i.filter(n=>n!=="").map(n=>{let a=n.split(" "),u=a[1].match(/\((\d+)\):/),f=a[1].replace(u[0],"");return f.startsWith("/")||(f="/"+f),{index:a[0],path:f,line:u[1],method:a[2]}});const s=m.map(n=>{let a=n.path,u=a.split("/").slice(1,-1),f=a.split("/").slice(-1)[0];return{folders:u,file:n.index+" "+f}}),o={};s.forEach(n=>{let a=o;n.folders.forEach(u=>{a[u]||(a[u]={}),a=a[u]}),a[n.file]=!0});let l=document.getElementById("first-element"),c=v.createList(o);l.innerHTML="",l.appendChild(c),g(),y.initializeTree(),B()});b.addEventListener("click",w);p.addEventListener("click",g);function w(){let e=A.getElementsByTagName("tbody")[0];x.createTable(m,e),E.classList.add("is-visible"),T.classList.remove("is-visible"),b.classList.add("is-active"),p.classList.remove("is-active")}function g(){E.classList.remove("is-visible"),T.classList.add("is-visible"),p.classList.add("is-active"),b.classList.remove("is-active")}function B(){document.querySelectorAll(".file").forEach(t=>{t.addEventListener("click",function(i){let r=i.target.id.replace("stack-","#");const s=m.find(o=>o.index===r);C.innerHTML=s.index,N.innerHTML=s.path,F.innerHTML=s.line,k.innerHTML=s.method})})}
